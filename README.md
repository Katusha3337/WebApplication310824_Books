Представим, что у вас есть минимальное API в ASP.NET Core, которое позволяет пользователям получать список книг из базы данных, при обращении по адресу “/allbooks”. 
Однако, вы хотите добавить функциональность, которая позволит вам фильтровать список книг по категориям только если пользователь авторизован, по адресу “/getbooks?token=token12345&category=music”. В данном случае, пользователь будет считаться авторизованным, если у него в запросе присутствует token, с определенным значением.
Вы должны использовать собственный класс Middleware.
Книги возвращать в виде HTML таблицы.
